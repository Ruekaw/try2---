# Q4 初步报告：提出更“公平 / 更兴奋”的合成系统（DAWS）

日期：2026-02-02

> 本文档对应 MCM C 题第 4 小问：提出另一套你认为更“公平”（或在其他方面“更好”，如让粉丝更兴奋）的每周合成系统，并给出制片方采用的依据。
>
> 本仓库中，我们提出并实现了 DAWS（Dynamic Adaptive Weighting System），并在历史数据 + Q1 粉丝投票后验样本的“可能世界”上，用 Q2 的统一评估引擎进行了反事实对比与参数搜索。

---

## 1. 第四问任务理解（我们要交付什么）

第四问的核心是：

1) **给出一套可逐周执行、可对外解释的合成规则**（评委评分 + 粉丝投票）。
2) 说明它为何更“公平”和/或更“兴奋”。
3) 用数据与对比分析给出**采用依据**（至少能和现行 Rank / Percent 规则对照）。

---

## 2. 我们提出的新规则：DAWS（Dynamic Adaptive Weighting System）

DAWS 的基本思想：用**份额空间的线性加权**把粉丝与评委合成，并允许权重随赛季阶段变化。

### 2.1 每周合成得分
对当周仍在赛的选手 $i$：

- 评委份额：
  $$J_i = \frac{S_i}{\sum_{k\in\mathcal A} S_k}$$
- 粉丝份额（来自 Q1 的后验样本）：
  $$F_i = \frac{V_i}{\sum_{k\in\mathcal A} V_k}$$
- 合成份额：
  $$C_i = w_t\,F_i + (1-w_t)\,J_i$$

### 2.2 两阶段权重（可解释）

- 常规赛：$w_t = w_{early}$（更尊重观众参与）
- 季后赛：$w_t = w_{late}$（更尊重技术公平）

切换点用“剩余人数阈值”定义：当剩余人数 $N\le N_{cut}$ 时使用 $w_{late}$。

约束建议：$0\le w_{late}\le w_{early}\le 1$。

### 2.3 赛制扩展：Direct 与 Save

我们实现了两套 DAWS 版本（与题目背景中的“最后两名评委救人”机制兼容）：

- **DAWS-Direct**：直接淘汰当周 $C_i$ 最低者。
- **DAWS-Save**：先用 $C_i$ 选出 Bottom-2（或 Bottom-3），再由评委（按 $S_i$）在 Bottom 区中决定淘汰谁。

平局处理：先按评委绝对分 $S_i$，再按粉丝份额 $F_i$，最后按名字字典序，保证规则可复现。

规则的工程化说明见：
- [Q4_工程文档_DAWS.md](Q4_%E5%B7%A5%E7%A8%8B%E6%96%87%E6%A1%A3_DAWS.md)
- [【Q4初步思路】.md](%E3%80%90Q4%E5%88%9D%E6%AD%A5%E6%80%9D%E8%B7%AF%E3%80%91.md)

---

## 3. 评估框架与数据来源（保证“不是拍脑袋”）

### 3.1 粉丝投票的不确定性：来自 Q1 的后验样本

Q1 通过 MCMC 反推得到每周粉丝投票的**后验样本**（不是“真值”）。在 Q4 中，我们把这些样本视为许多“合理的可能世界”，对规则做 Monte Carlo 评估。

### 3.2 统一反事实引擎：复用 Q2 的 fixed-week sandbox

我们采用 Q2 既有评估范式：**每一周只在该周实际参赛名单内比较不同规则**（fixed-week sandbox），避免“全季链式淘汰反事实”对缺失评分数据的依赖。

该假设的重要性与限制会在第 8 节说明。

### 3.3 指标口径（与 Q2 一致）

在每周、每种规则下统计：

- **reversal_rate**：规则模拟淘汰与真实淘汰不一致的概率（越小越“与历史一致”）
- **tech_vulnerability**：技术冤死风险（评委强者被淘汰概率，越小越“公平”）
- **popularity_vulnerability**：人气冤死风险（粉丝强者被淘汰概率，越小越“尊重观众”）

对应输出：
- 周级：[../outputs/q4_new_system/core_metrics_by_week.csv](../outputs/q4_new_system/core_metrics_by_week.csv)
- 赛季级：[../outputs/q4_new_system/core_metrics_by_season.csv](../outputs/q4_new_system/core_metrics_by_season.csv)
- 总体：[../outputs/q4_new_system/core_metrics_overall.csv](../outputs/q4_new_system/core_metrics_overall.csv)

---

## 4. 基线规则现状（Rank / Percent）

从总体汇总（见 [../outputs/q4_new_system/core_metrics_overall.csv](../outputs/q4_new_system/core_metrics_overall.csv)）可得到当前几种基线规则的“公平-兴奋”位置：

| method | reversal_rate | tech_vulnerability | popularity_vulnerability |
|---|---:|---:|---:|
| percent_direct | 0.3708 | 0.0623 | 0.0008 |
| percent_save | 0.3683 | 0.0052 | 0.0124 |
| rank_direct | 0.3696 | 0.0018 | 0.0176 |
| rank_save | 0.4556 | 0.0018 | 0.0568 |

直观解读（用于写作）：

- **Save 机制**显著降低 `tech_vulnerability`（更保护技术强者），但可能增加 `popularity_vulnerability`（观众“人气王”可能更容易被牺牲）。
- Rank 规则在“保护技术强者”上更强，但在“保护人气强者”上通常更弱。

---

## 5. DAWS 参数搜索与帕累托候选

我们对参数 $(w_{early},w_{late},N_{cut},save)$ 做网格搜索，并抽取非支配解（帕累托前沿）。

- 搜索网格： [../outputs/q4_new_system/daws_search_grid.csv](../outputs/q4_new_system/daws_search_grid.csv)
- 帕累托候选： [../outputs/q4_new_system/daws_pareto_frontier.csv](../outputs/q4_new_system/daws_pareto_frontier.csv)

### 5.1 从当前输出可直接读出的代表性候选

**候选 A（折衷型 / 规则本体）：DAWS-Direct**

- 参数：$w_{early}=0.4,\; w_{late}=0.3,\; N_{cut}=6,\; save=\text{False}$
- 对应总体指标（来自搜索网格同一行）：
  - `reversal_rate ≈ 0.3224`
  - `tech_vulnerability ≈ 0.0330`
  - `popularity_vulnerability ≈ 0.0036`

解读：
- 相对 `percent_direct`：一致性更好（reversal 更低），技术冤死风险更低（更公平），但对“人气王保护”略弱（popularity_vulnerability 略高但仍处低位）。

**候选 B（公平优先）：DAWS-Save（带 Bottom-2 评委救人）**

- 参数：$w_{early}=0.4,\; w_{late}=0.3,\; N_{cut}=4,\; save=\text{True}$
- 对应总体指标（帕累托前沿里可见）：
  - `reversal_rate ≈ 0.3721`
  - `tech_vulnerability ≈ 0.0040`
  - `popularity_vulnerability ≈ 0.0178`

解读：
- 在“保护技术强者”上接近 Rank / Save 的水平（非常低的 tech_vulnerability），但会牺牲一定观众侧保护（popularity_vulnerability 更高）。

> 注：现阶段建议在论文中同时呈现 A（更简洁、可解释）与 B（公平优先、对标 S28+ 的救人机制），并在备忘录里推荐其一作为主方案。

---

## 6. 争议案例：规则会不会改变他们的命运？

题目点名的争议人物，我们已经做了“淘汰概率曲线 / 生存总结”。

对应输出：
- 生存总结：[../outputs/q4_new_system/tracker_survival_summary.csv](../outputs/q4_new_system/tracker_survival_summary.csv)
- 周淘汰概率：[../outputs/q4_new_system/tracker_elimination_probabilities.csv](../outputs/q4_new_system/tracker_elimination_probabilities.csv)

### 6.1 S27 Bobby Bones（夺冠争议）

从生存总结中（season=27）：

- `rank_direct` 的生存概率明显更低（更“技术党”）；
- `percent_direct` 与 `daws_direct` 更容易让其存活（更“粉丝友好”）。

写作建议：用 S27 作为“制度差异会放大争议”的证据，并指出 DAWS 可以通过调节 $w_t$ 与是否 Save 在两端之间连续取值，而不是只能在 Rank / Percent 二选一。

### 6.2 S2 Jerry Rice、S11 Bristol Palin

同样可以展示：在 Rank / Percent / DAWS 下，他们的被淘汰风险曲线形态差异（例如某些周在 Rank 下显著更危险）。

---

## 7. 决赛周影响：冠军改变概率

我们对每个决赛周输出了名次分布与“冠军改变率”。

- 汇总表： [../outputs/q4_new_system/finale_winner_change_with_daws_by_week.csv](../outputs/q4_new_system/finale_winner_change_with_daws_by_week.csv)
- 热力图/分布： [../outputs/q4_new_system/finale_distributions/](../outputs/q4_new_system/finale_distributions/)

一个非常适合写进论文的观察点：

- S27 决赛周，`rank` 与 `percent` 的冠军选择差异很大（冠军不同的概率很高）；而 **DAWS 与 percent 更接近**（差异明显更小）。

写作话术：
- DAWS 能在保留“观众参与”的同时减少极端制度差异导致的冠军争议（让“规则切换”更平滑）。

---

## 8. 为什么制片人应该采用 DAWS（面向制片人的理由框架）

建议在备忘录用 3 句话回答：

1) **可解释**：每周的合成分数就是“粉丝份额 + 评委份额”的加权平均；后期适度提高技术权重，符合“越到后面越看实力”的直觉叙事。
2) **可调参**：不必在 Rank / Percent 两个制度极端之间跳跃，而是用 $(w_{early}, w_{late}, N_{cut})$ 连续调节“公平-兴奋”折衷。
3) **可被数据支持**：用历史赛季 + 粉丝投票后验样本做蒙特卡洛评估，输出稳定的公平性/兴奋度指标与争议案例对比。

### 8.1 重要工程假设（需要主动说明）

我们采用 fixed-week sandbox：每一周只在该周实际参赛名单内对比规则。

- 优点：避免对“被淘汰后如果继续比赛其评分如何”的不可得数据做强假设。
- 局限：无法模拟“全季链式淘汰”对后续周评分结构的反馈效应。

在正文里建议用 2–3 句解释该假设是数据限制下的合理验证方式。

---

## 9. 复现方式（给队友/阅卷人）

在仓库根目录执行：

- 生成 Q4 评估输出（默认会写入 `outputs/q4_new_system`）：

```bash
python Q4_new_model/q4_main.py --eval
```

- 网格搜索（会写入 `outputs/q4_new_system/search` 或指定子目录）：

```bash
python Q4_new_model/q4_main.py --search
```

---

## 10. 下一步（把“初步”变成“可交付”）

1) 从帕累托候选中**明确选定最终推荐参数**（主方案 + 备选）。
2) 把“公平/兴奋”的叙事与指标严格对应（例如：技术冤死风险=公平，人气冤死风险=观众侧公平，规则分歧/冠军改变率=兴奋度）。
3) 对 4 个争议人物做一个统一模板的小节：
   - 风险曲线（每周淘汰概率）
   - 生存概率汇总
   - 决赛名次分布（如果进入决赛）

> 注：目前输出已具备上述材料（CSV + 图），只差写作层面把“推荐点”定下来，并把指标解释闭环。